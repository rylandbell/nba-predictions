extends ./layouts/layout.jade

block content
  .row
    .col-xs-12.col-md-8.col-md-offset-2
      table.table
        -var today = moment().tz('America/Los_Angeles').format('D')
        thead
          tr
            th Name
            th.text-center Wins
            th.text-center Losses
            th.text-center Today's Pick (#{moment().tz('America/Los_Angeles').format('M/D')})
            th.text-center Yesterday's Pick (#{moment().subtract(1,'days').tz('America/Los_Angeles').format('M/D')})
        tbody
          each userMonth in userData
            tr
              td= userMonth.ownerDisplayName
              td.text-center= userMonth.standingsData.winCount
              td.text-center= userMonth.standingsData.lossCount
              if (userMonth.predictedWinners[today].outcome === 'success')
                td.text-center.text-success= userMonth.predictedWinners[today].teamName
              else if (userMonth.predictedWinners[today].outcome === 'failure')
                td.text-center.text-danger= userMonth.predictedWinners[today].teamName
              else
                td.text-center= userMonth.predictedWinners[today].teamName
              if (today>1)
                if (userMonth.predictedWinners[today-1].outcome === 'success')
                  td.text-center.text-success= userMonth.predictedWinners[today-1].teamName
                else if (userMonth.predictedWinners[today-1].outcome === 'failure')
                  td.text-center.text-danger= userMonth.predictedWinners[today-1].teamName
                else
                  td.text-center= userMonth.predictedWinners[today-1].teamName
              else
                td.text-center N/A
      .text-center Today's picks appear in the standings as soon as the picked game begins.